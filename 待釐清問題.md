# 測試的問題

- kops 管理叢集?
    - ~~似乎沒有辦法直接對master管理任何設定~~
- helm 如何部屬?
    - ~~使用helm init 初始化的時候都會失敗~~
    - ~~使用kubectl apply -f helm.yaml直接指派helm也會失效~~
        - 要透過helm綁定ROLE就可生效，我有寫在helm.yaml的註解上了
        - 照步驟部署應該有87%會成功

- kube-system  中的DNS死掉如何處理?
- aws-auth.yaml佈署後刪除會造成什麼影響?

- 如何針對節點作壓力測試?取得可以運作多少POD的數量?
    - 雖然在CF建立時便已經有內定的數值了，也可以透過 kubectl describe nodes ip-172-31-47-41.us-west-2.compute.internal 取得資料
    - 以下是`t2.samll`規格吐出的資料

```yaml
Capacity:
cpu:                1
ephemeral-storage:  20959212Ki
hugepages-2Mi:      0
memory:             2043260Ki
pods:               8
Allocatable:
cpu:                1
ephemeral-storage:  19316009748
hugepages-2Mi:      0
memory:             1940860Ki
pods:               8
```

相比之下GCP的NODE提供多達110個POD??!?!


```yaml
Capacity:
cpu:                1
ephemeral-storage:  98868448Ki
hugepages-2Mi:      0
memory:             1735972Ki
pods:               110
Allocatable:
cpu:                940m
ephemeral-storage:  47093746742
hugepages-2Mi:      0
memory:             1188132Ki
pods:               110
```

這實在有點奇怪?不知道AWS定義CF中的數值是怎麼評定的?  
結果無法開到那麼多POD，容器應指定'cpu/memory'數值  
執行後使用到的CPU/Memory很快就到頂了，到頂就無法再次擴增  
否則POD會以全部的資源去執行

```yaml
範例
spec: 區段加入
resources:
 limits:
   cpu: 200m
   memory: 150Mi
 requests:
   cpu: 100m
   memory: 100Mi
```
